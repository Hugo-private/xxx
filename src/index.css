@import url('https://fonts.googleapis.com/css2?family=Fraunces:opsz,wght@9..144,500..800&family=Manrope:wght@300..800&family=Noto+Sans+TC:wght@400;600;700&family=Press+Start+2P&family=Share+Tech+Mono&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer utilities {
  /* Typography spec alias: Small = `text-sm text-secondary` */
  .text-secondary {
    @apply text-muted-foreground;
  }
}

@layer components {
  .card {
    @apply rounded-2xl border border-border/80 bg-surface/90 p-5 shadow-[0_18px_48px_-40px_rgba(15,23,42,0.45)] backdrop-blur;
  }

  .card-muted {
    @apply rounded-2xl border border-border/70 bg-muted/30 p-5;
  }

  .card-glass {
    @apply rounded-3xl border border-white/40 bg-white/70 p-6 shadow-[0_28px_80px_-60px_rgba(15,23,42,0.7)] backdrop-blur-xl dark:border-white/10 dark:bg-white/10;
  }

  .card-compact {
    @apply rounded-xl border border-border/80 bg-surface/90 p-4 shadow-[0_14px_40px_-34px_rgba(15,23,42,0.4)];
  }

  .card-tight {
    @apply rounded-lg border border-border/80 bg-surface/90 p-3 shadow-[0_12px_32px_-30px_rgba(15,23,42,0.35)];
  }

  .badge-soft {
    @apply inline-flex items-center rounded-full border border-border/70 bg-surface/80 px-3 py-1 text-xs font-medium text-secondary;
  }
}

@layer base {
  :root {
    /* Background / Surface */
    --background: 216 45.5% 97.8%; /* #F7F9FC */
    --surface: 0 0% 100%; /* #FFFFFF */

    /* Text */
    --foreground: 222.2 47.4% 11.2%; /* #0F172A */

    /* Cards / Popovers */
    --card: 0 0% 100%; /* #FFFFFF */
    --card-foreground: 222.2 47.4% 11.2%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 47.4% 11.2%;

    /* Accent / Brand */
    --accent: 169.2 70.3% 44.9%; /* #22C3A6 */
    --accent-hover: 169.9 73.3% 39.6%; /* #1BAF96 */
    --accent-foreground: 0 0% 100%;

    /* Shadcn compat */
    --primary: 169.2 70.3% 44.9%;
    --primary-foreground: 0 0% 100%;
    --secondary: 213.3 36% 95.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 213.3 36% 95.1%;
    --muted-foreground: 215.3 19.3% 34.5%; /* #475569 */
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 220 31.6% 92.5%; /* #E6EAF2 */
    --input: 220 31.6% 92.5%;
    --ring: 169.2 70.3% 44.9%;
    --radius: 0.5rem;
  }

  .dark {
    /* Background / Surface */
    --background: 220 48.8% 8.4%; /* #0B1220 */
    --surface: 221.4 46% 12.4%; /* #111A2E */

    /* Text */
    --foreground: 220 13% 91%; /* #E5E7EB */

    /* Cards / Popovers */
    --card: 221.4 46% 12.4%; /* #111A2E */
    --card-foreground: 220 13% 91%;
    --popover: 221.4 46% 12.4%;
    --popover-foreground: 220 13% 91%;

    /* Accent / Brand */
    --accent: 169.2 70.3% 44.9%;
    --accent-hover: 169.9 73.3% 39.6%;
    --accent-foreground: 0 0% 100%;

    /* Shadcn compat */
    --primary: 169.2 70.3% 44.9%;
    --primary-foreground: 0 0% 100%;
    --secondary: 220 52.4% 12.4%;
    --secondary-foreground: 220 13% 91%;
    --muted: 220 52.4% 12.4%;
    --muted-foreground: 215 20.2% 65.1%; /* #94A3B8 */
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 221.1 38.8% 19.2%; /* #1E2A44 */
    --input: 221.1 38.8% 19.2%;
    --ring: 169.2 70.3% 44.9%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  html {
    scroll-behavior: smooth;
  }
  body {
    @apply bg-background font-sans text-foreground antialiased;
    font-size: 15px;
    line-height: 1.7;
    background-image:
      radial-gradient(900px 320px at 8% -12%, hsl(var(--accent) / 0.2), transparent 60%),
      radial-gradient(840px 300px at 100% 0%, hsl(210 90% 92% / 0.7), transparent 60%);
  }
}

.dark body {
  background-image:
    radial-gradient(900px 320px at 8% -12%, hsl(var(--accent) / 0.2), transparent 60%),
    radial-gradient(840px 300px at 100% 0%, hsl(210 80% 40% / 0.12), transparent 60%);
}

@layer base {
  .resume-glass {
    --background: 205 55% 96%;
    --surface: 0 0% 100%;
    --foreground: 218 28% 16%;
    --card: 0 0% 100%;
    --card-foreground: 218 28% 16%;
    --popover: 0 0% 100%;
    --popover-foreground: 218 28% 16%;
    --accent: 188 70% 45%;
    --accent-hover: 188 70% 38%;
    --accent-foreground: 0 0% 100%;
    --secondary: 210 38% 95%;
    --secondary-foreground: 218 28% 16%;
    --muted: 210 38% 95%;
    --muted-foreground: 215 20% 38%;
    --border: 210 30% 88%;
    --input: 210 30% 88%;
    --ring: 188 70% 45%;
    font-family: "Manrope", "Noto Sans TC", "Noto Sans", sans-serif;
    font-size: 16px;
    line-height: 1.75;
    position: relative;
    isolation: isolate;
    background-color: hsl(var(--background));
    background-image:
      radial-gradient(520px 220px at 10% -10%, hsl(188 70% 60% / 0.25), transparent 60%),
      radial-gradient(520px 260px at 90% 0%, hsl(200 80% 92% / 0.8), transparent 62%),
      radial-gradient(420px 220px at 20% 100%, hsl(180 50% 90% / 0.7), transparent 60%);
  }

  @media (min-width: 768px) {
    .resume-glass {
      font-size: 17px;
    }
  }

  .resume-glass::before {
    content: "";
    position: fixed;
    inset: -10% -10% 0;
    pointer-events: none;
    background:
      radial-gradient(520px 320px at 15% 10%, hsl(0 0% 100% / 0.7), transparent 70%),
      radial-gradient(600px 360px at 85% 15%, hsl(188 70% 70% / 0.35), transparent 68%);
    filter: blur(8px);
    opacity: 0.8;
    z-index: 0;
  }

  .resume-glass > * {
    position: relative;
    z-index: 1;
  }

  .resume-glass header {
    background: linear-gradient(120deg, hsl(0 0% 100% / 0.8), hsl(210 40% 96% / 0.6));
    border-bottom-color: hsl(210 30% 86% / 0.8);
    box-shadow: 0 12px 36px -26px hsl(210 40% 30% / 0.4);
  }

  .resume-glass .card,
  .resume-glass .card-muted,
  .resume-glass .card-glass,
  .resume-glass .card-compact,
  .resume-glass .card-tight {
    background: linear-gradient(135deg, hsl(0 0% 100% / 0.78), hsl(210 40% 98% / 0.42));
    border-color: hsl(210 35% 86% / 0.9);
    box-shadow:
      0 22px 60px -44px hsl(210 40% 30% / 0.45),
      inset 0 1px 0 hsl(0 0% 100% / 0.7);
    backdrop-filter: blur(18px) saturate(130%);
  }

  .resume-glass .card-glass {
    background: linear-gradient(135deg, hsl(0 0% 100% / 0.85), hsl(190 70% 96% / 0.55));
    border-color: hsl(190 60% 88% / 0.9);
    box-shadow:
      0 28px 80px -54px hsl(210 45% 30% / 0.55),
      inset 0 1px 0 hsl(0 0% 100% / 0.8);
  }

  .resume-glass .card-muted {
    background: linear-gradient(135deg, hsl(0 0% 100% / 0.62), hsl(210 40% 96% / 0.4));
  }

  .resume-glass .badge-soft {
    background: hsl(0 0% 100% / 0.65);
    border-color: hsl(210 30% 84% / 0.9);
    color: hsl(var(--foreground) / 0.85);
  }

  .resume-glass .text-sm {
    font-size: 0.95rem;
    line-height: 1.7;
  }
}

.dark .resume-glass {
  --background: 220 40% 10%;
  --surface: 220 34% 14%;
  --foreground: 210 25% 92%;
  --card: 220 34% 14%;
  --card-foreground: 210 25% 92%;
  --popover: 220 34% 14%;
  --popover-foreground: 210 25% 92%;
  --accent: 186 85% 58%;
  --accent-hover: 186 85% 50%;
  --accent-foreground: 220 40% 10%;
  --secondary: 220 28% 16%;
  --secondary-foreground: 210 25% 92%;
  --muted: 220 28% 16%;
  --muted-foreground: 210 18% 72%;
  --border: 220 26% 22%;
  --input: 220 26% 22%;
  --ring: 186 85% 58%;
  background-color: hsl(var(--background));
  background-image:
    radial-gradient(520px 240px at 10% -8%, hsl(186 85% 55% / 0.22), transparent 60%),
    radial-gradient(520px 260px at 90% 0%, hsl(210 70% 20% / 0.6), transparent 62%),
    radial-gradient(420px 220px at 20% 100%, hsl(186 60% 25% / 0.45), transparent 60%);
}

.dark .resume-glass::before {
  background:
    radial-gradient(520px 320px at 15% 10%, hsl(0 0% 100% / 0.18), transparent 70%),
    radial-gradient(600px 360px at 85% 15%, hsl(186 85% 60% / 0.2), transparent 68%);
  opacity: 0.7;
}

.dark .resume-glass .card,
.dark .resume-glass .card-muted,
.dark .resume-glass .card-glass,
.dark .resume-glass .card-compact,
.dark .resume-glass .card-tight {
  background: linear-gradient(135deg, hsl(220 34% 16% / 0.85), hsl(220 34% 10% / 0.65));
  border-color: hsl(186 35% 40% / 0.35);
  box-shadow:
    0 24px 60px -46px hsl(210 45% 10% / 0.6),
    inset 0 1px 0 hsl(0 0% 100% / 0.08);
}

.dark .resume-glass .card-glass {
  background: linear-gradient(135deg, hsl(220 34% 18% / 0.92), hsl(186 45% 18% / 0.7));
  border-color: hsl(186 55% 55% / 0.45);
}

.dark .resume-glass h1,
.dark .resume-glass h2,
.dark .resume-glass h3 {
  color: hsl(0 0% 100%);
}

.dark .resume-glass .badge-soft {
  background: hsl(186 95% 60%);
  border-color: hsl(186 95% 60%);
  color: hsl(220 40% 10%);
}

.dark .resume-glass header {
  background: hsl(0 0% 0%);
  border-bottom-color: hsl(0 0% 0%);
  box-shadow: 0 12px 36px -26px hsl(0 0% 0% / 0.6);
}

.dark .resume-glass header a,
.dark .resume-glass header span,
.dark .resume-glass nav a {
  color: hsl(0 0% 100%);
}

.dark .resume-glass nav a:hover {
  color: hsl(0 0% 100% / 0.85);
}

@media (min-width: 768px) {
  body {
    font-size: 16px;
  }
}

::selection {
  background: hsl(var(--foreground) / 0.12);
}

@keyframes cyber-rise {
  from {
    opacity: 0;
    transform: translateY(12px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes neon-pulse {
  0%,
  100% {
    box-shadow:
      0 0 0 1px hsl(190 100% 50% / 0.6),
      0 0 12px hsl(320 100% 60% / 0.35);
  }
  50% {
    box-shadow:
      0 0 0 1px hsl(320 100% 60% / 0.75),
      0 0 18px hsl(190 100% 60% / 0.45);
  }
}

@layer base {
  .report-cyber {
    --background: 232 46% 8%;
    --surface: 232 34% 12%;
    --foreground: 182 100% 92%;
    --card: 232 34% 12%;
    --card-foreground: 182 100% 92%;
    --popover: 232 34% 12%;
    --popover-foreground: 182 100% 92%;
    --accent: 320 100% 60%;
    --accent-hover: 320 100% 52%;
    --accent-foreground: 232 46% 8%;
    --secondary: 232 30% 14%;
    --secondary-foreground: 182 100% 92%;
    --muted: 232 30% 14%;
    --muted-foreground: 190 35% 72%;
    --border: 190 85% 42%;
    --input: 190 85% 42%;
    --ring: 190 100% 50%;
    --radius: 0.25rem;
    font-family:
      "Share Tech Mono",
      "Noto Sans TC",
      "Noto Sans",
      ui-monospace,
      monospace;
    letter-spacing: 0.01em;
    position: relative;
    isolation: isolate;
    background-color: hsl(var(--background));
    background-image:
      radial-gradient(520px 260px at 12% -12%, hsl(320 100% 60% / 0.28), transparent 65%),
      radial-gradient(520px 260px at 90% 0%, hsl(190 100% 55% / 0.22), transparent 60%),
      repeating-linear-gradient(0deg, hsl(190 100% 60% / 0.06) 0, hsl(190 100% 60% / 0.06) 1px, transparent 1px, transparent 6px),
      repeating-linear-gradient(90deg, hsl(320 100% 60% / 0.08) 0, hsl(320 100% 60% / 0.08) 1px, transparent 1px, transparent 8px);
  }

  .report-cyber::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    background:
      repeating-linear-gradient(0deg, hsl(0 0% 100% / 0.08) 0, hsl(0 0% 100% / 0.08) 1px, transparent 1px, transparent 3px);
    opacity: 0.4;
    mix-blend-mode: soft-light;
    z-index: 0;
  }

  .report-cyber > * {
    position: relative;
    z-index: 1;
  }

  .report-cyber header {
    border-bottom-color: hsl(190 100% 50% / 0.5);
    background: linear-gradient(90deg, hsl(232 34% 12% / 0.92), hsl(232 34% 12% / 0.7));
    box-shadow: 0 6px 24px hsl(190 100% 50% / 0.2);
  }

  .report-cyber h1,
  .report-cyber h2,
  .report-cyber h3 {
    font-family: "Press Start 2P", "Noto Sans TC", "Noto Sans", sans-serif;
    letter-spacing: 0.04em;
    text-shadow: 0 0 12px hsl(190 100% 60% / 0.35);
  }

  .report-cyber .card,
  .report-cyber .card-muted,
  .report-cyber .card-glass,
  .report-cyber .card-compact,
  .report-cyber .card-tight {
    border-radius: 0.4rem;
    border-color: hsl(190 100% 50% / 0.55);
    background:
      linear-gradient(145deg, hsl(232 34% 14% / 0.95), hsl(232 34% 10% / 0.95));
    box-shadow:
      0 0 0 1px hsl(190 100% 55% / 0.6),
      0 0 24px hsl(320 100% 60% / 0.2);
  }

  .report-cyber .card-glass {
    border-color: hsl(320 100% 60% / 0.45);
    box-shadow:
      0 0 0 1px hsl(320 100% 60% / 0.6),
      0 0 30px hsl(190 100% 60% / 0.25);
  }

  .report-cyber .badge-soft {
    border-radius: 999px;
    border-color: hsl(320 100% 60% / 0.6);
    background: hsl(232 34% 14% / 0.85);
    color: hsl(182 100% 92%);
  }

  .report-cyber button {
    border-radius: 0.45rem;
    text-shadow: 0 0 8px hsl(190 100% 70% / 0.3);
    animation: neon-pulse 3s ease-in-out infinite;
  }

  .report-cyber button:hover {
    box-shadow:
      0 0 0 1px hsl(320 100% 60% / 0.8),
      0 0 20px hsl(190 100% 60% / 0.5);
  }

  .report-cyber input {
    border-color: hsl(190 100% 50% / 0.6);
    background:
      linear-gradient(145deg, hsl(232 34% 13% / 0.9), hsl(232 34% 8% / 0.9));
    box-shadow:
      inset 0 0 0 1px hsl(190 100% 50% / 0.35),
      0 0 12px hsl(190 100% 60% / 0.25);
  }

  .report-cyber a {
    color: hsl(190 100% 70%);
  }

  .report-cyber a:hover {
    color: hsl(320 100% 70%);
  }

  .report-cyber main section {
    animation: cyber-rise 0.7s ease both;
  }

  .report-cyber main section:nth-of-type(1) {
    animation-delay: 0.05s;
  }
  .report-cyber main section:nth-of-type(2) {
    animation-delay: 0.12s;
  }
  .report-cyber main section:nth-of-type(3) {
    animation-delay: 0.2s;
  }
  .report-cyber main section:nth-of-type(4) {
    animation-delay: 0.28s;
  }

  .report-cyber .text-emerald-700,
  .report-cyber .text-emerald-600,
  .report-cyber .text-emerald-400 {
    color: hsl(190 100% 70%);
  }

  .report-cyber .border-emerald-500 {
    border-color: hsl(320 100% 60%);
  }

  .report-cyber .bg-emerald-400\/30 {
    background-color: hsl(320 100% 60% / 0.3);
  }
}
